{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\nconst BASE_URL = 'https://pixabay.com/api/';\n\nfunction getParams(query) {\n  const params = new URLSearchParams({\n    key: '50351330-2fc0fc2b1e2442bcaa307ce6b',\n    q: query,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: 'true',\n  });\n\n  return '?' + params.toString();\n}\n\nexport function getPictures(query) {\n  const url = BASE_URL + getParams(query);\n  return axios(url)\n    .then(response => response.data)\n    .catch(error => console.error(error));\n}\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nfunction renderGalleryItem({\n  src,\n  originalSrc,\n  description,\n  likes,\n  views,\n  comments,\n  downloads,\n}) {\n  return `<li class=\"gallery-item\">\n            <a class=\"gallery-link\" href=\"${originalSrc}\">\n                <img\n                    class=\"gallery-image\"\n                    src=\"${src}\"\n                    data-source=\"${originalSrc}\"\n                    alt=\"${description}\"\n                    width=360\n                    height=200\n                />\n\n            </a>\n            <ul class='metadata'>\n                <li>\n                    <p class='metadata-heading'>Likes</p>\n                    <p>${likes}</p>\n                </li>\n                <li>\n                    <p class='metadata-heading'>Views</p>\n                    <p>${views}</p>\n                </li>\n                <li>\n                    <p class='metadata-heading'>Comments</p>\n                    <p>${comments}</p>\n                </li>\n                <li>\n                    <p metadata-heading>Downloads</p>\n                    <p>${downloads}</p>\n                </li>\n            </ul>\n        </li>`;\n}\n\nexport function clearGallery(gallery) {\n  gallery.innerHTML = '';\n}\n\nexport function renderGallery(gallery, images) {\n  if (gallery) {\n    const galleryHTML = images\n      .map(\n        ({\n          webformatURL: src,\n          largeImageURL: originalSrc,\n          tags: description,\n          likes,\n          views,\n          comments,\n          downloads,\n        }) =>\n          renderGalleryItem({\n            src,\n            originalSrc,\n            description,\n            likes,\n            views,\n            comments,\n            downloads,\n          })\n      )\n      .join('');\n\n    gallery.innerHTML = galleryHTML;\n\n    const lightBoxInstance = new SimpleLightbox('.gallery a');\n\n    lightBoxInstance.refresh();\n  }\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport { getPictures } from './js/pixabay-api';\nimport { renderGallery, clearGallery } from './js/render-functions';\n\nconst gallery = document.querySelector('.gallery');\nconst form = document.querySelector('form');\nconst searchInput = document.querySelector('input');\nconst loader = document.querySelector('.loader');\nconst button = document.querySelector('button');\n\nform.addEventListener('submit', e => {\n  e.preventDefault();\n  if (!gallery) return;\n  const query = searchInput.value;\n  searchInput.value = '';\n\n  if (query) {\n    clearGallery(gallery);\n    loader.classList.remove('hidden');\n    button.setAttribute('disabled', 'disabled');\n\n    getPictures(query).then(res => {\n      button.removeAttribute('disabled');\n\n      loader.classList.add('hidden');\n      if (!res.hits.length) {\n        return iziToast.show({\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          color: 'red',\n          position: 'topRight',\n        });\n      }\n      renderGallery(gallery, res.hits);\n    });\n  }\n});\n"],"names":["BASE_URL","getParams","query","getPictures","url","axios","response","error","renderGalleryItem","src","originalSrc","description","likes","views","comments","downloads","clearGallery","gallery","renderGallery","images","galleryHTML","SimpleLightbox","form","searchInput","loader","button","e","res","iziToast"],"mappings":"owBACA,MAAMA,EAAW,2BAEjB,SAASC,EAAUC,EAAO,CASxB,MAAO,IARQ,IAAI,gBAAgB,CACjC,IAAK,qCACL,EAAGA,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MAChB,CAAG,EAEmB,UACtB,CAEO,SAASC,EAAYD,EAAO,CACjC,MAAME,EAAMJ,EAAWC,EAAUC,CAAK,EACtC,OAAOG,EAAMD,CAAG,EACb,KAAKE,GAAYA,EAAS,IAAI,EAC9B,MAAMC,GAAS,QAAQ,MAAMA,CAAK,CAAC,CACxC,CCjBA,SAASC,EAAkB,CACzB,IAAAC,EACA,YAAAC,EACA,YAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACF,EAAG,CACD,MAAO;AAAA,4CACmCL,CAAW;AAAA;AAAA;AAAA,2BAG5BD,CAAG;AAAA,mCACKC,CAAW;AAAA,2BACnBC,CAAW;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBASbC,CAAK;AAAA;AAAA;AAAA;AAAA,yBAILC,CAAK;AAAA;AAAA;AAAA;AAAA,yBAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,yBAIRC,CAAS;AAAA;AAAA;AAAA,cAIlC,CAEO,SAASC,EAAaC,EAAS,CACpCA,EAAQ,UAAY,EACtB,CAEO,SAASC,EAAcD,EAASE,EAAQ,CAC7C,GAAIF,EAAS,CACX,MAAMG,EAAcD,EACjB,IACC,CAAC,CACC,aAAcV,EACd,cAAeC,EACf,KAAMC,EACN,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACD,IACCP,EAAkB,CAChB,IAAAC,EACA,YAAAC,EACA,YAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACZ,CAAW,CACJ,EACA,KAAK,EAAE,EAEVE,EAAQ,UAAYG,EAEK,IAAIC,EAAe,YAAY,EAEvC,QAAO,CACzB,CACH,CC1EA,MAAMJ,EAAU,SAAS,cAAc,UAAU,EAC3CK,EAAO,SAAS,cAAc,MAAM,EACpCC,EAAc,SAAS,cAAc,OAAO,EAC5CC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAS,SAAS,cAAc,QAAQ,EAE9CH,EAAK,iBAAiB,SAAUI,GAAK,CAEnC,GADAA,EAAE,eAAc,EACZ,CAACT,EAAS,OACd,MAAMf,EAAQqB,EAAY,MAC1BA,EAAY,MAAQ,GAEhBrB,IACFc,EAAaC,CAAO,EACpBO,EAAO,UAAU,OAAO,QAAQ,EAChCC,EAAO,aAAa,WAAY,UAAU,EAE1CtB,EAAYD,CAAK,EAAE,KAAKyB,GAAO,CAI7B,GAHAF,EAAO,gBAAgB,UAAU,EAEjCD,EAAO,UAAU,IAAI,QAAQ,EACzB,CAACG,EAAI,KAAK,OACZ,OAAOC,EAAS,KAAK,CACnB,QACE,2EACF,MAAO,MACP,SAAU,UACpB,CAAS,EAEHV,EAAcD,EAASU,EAAI,IAAI,CACrC,CAAK,EAEL,CAAC"}